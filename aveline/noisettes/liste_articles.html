[(#SET{selection, #ENV{selection}|sinon{limite}})]
[(#SET{tri, #ENV{tri}|sinon{date}})]
[(#SET{tri, [(#GET{tri}|!={note}|ou{#PLUGIN{notation}}|?{#GET{tri},date})]})]
[(#SET{senstri, #ENV{senstri}|sinon{1}})]
[(#SET{tri_num, #GET{tri}|=={titre}|?{titre,''}})]

[(#SET{pas_pagination, #ENV{pas_pagination}|sinon{5}})]
[(#SET{limite, #ENV{limite}|sinon{10}})]
[(#GET{selection}|=={tout}|oui)#SET{pas_pagination,1000000}]
[(#GET{selection}|=={limite}|oui)#SET{pas_pagination,#GET{limite}}]
[(#SET{position_pagination, #ENV{position_pagination}|sinon{fin}})]
[(#SET{position_pagination_debut,#GET{selection}|!={pagination}|ou{#GET{position_pagination}|=={fin}}|?{'',on}})]
[(#SET{position_pagination_fin,#GET{selection}|!={pagination}|ou{#GET{position_pagination}|=={debut}}|?{'',on}})]

[(#SET{position_choix_tri, #ENV{position_choix_tri}|sinon{debut}})]
[(#SET{position_choix_tri_debut,#ENV{choix_tri}|non|ou{#GET{position_choix_tri}|=={fin}}|?{'',on}})]
[(#SET{position_choix_tri_fin,#ENV{choix_tri}|non|ou{#GET{position_choix_tri}|=={debut}}|?{'',on}})]

[(#SET{position_selecteur_archives, #ENV{position_selecteur_archives}|sinon{debut}})]
[(#SET{position_selecteur_archives_debut,#ENV{afficher_selecteur_archives}|non|ou{#GET{position_selecteur_archives}|=={fin}}|?{'',on}})]
[(#SET{position_selecteur_archives_fin,#ENV{afficher_selecteur_archives}|non|ou{#GET{position_selecteur_archives}|=={debut}}|?{'',on}})]

[(#SET{langue_choisie, [(#ENV{restreindre_langue}|oui|?{[^(#ENV{lang})$],''})]})]
[(#SET{exclure_article_en_cours, #ENV{exclure_article_en_cours}|is_null|non|?{#ENV{exclure_article_en_cours},''}})]
[(#SET{style_liste, #ENV{style_liste}|sinon{liste}})]
[(#SET{afficher_titre_liste, #ENV{afficher_titre_liste}|is_null|non|?{#ENV{afficher_titre_liste},'on'}})]
[(#SET{titre_liste, #ENV{titre_liste}|sinon{public:articles}})]
[(#SET{titre,[(#GET{titre_liste}|=={titre_perso}|?{[(#ENV**{titre_liste_perso}|propre)],[(#GET{titre_liste}|_T)]})]})]
[(#SET{style_pagination, #ENV{style_pagination}|sinon{''}})]

[(#SET{liste_articles, #ENV{liste_articles}|sinon{tous}})]
[(#SET{id_rubrique, [^(#ENV{rubrique_specifique}|picker_selected{rubrique}|table_valeur{0})$]})]
[(#SET{id_rubrique, #GET{liste_articles}|=={tous}|?{'',#GET{id_rubrique}}})]
[(#SET{id_rubrique, [(#GET{liste_articles}|=={meme_rubrique}|?{[^(#ENV{id_rubrique})$],#GET{id_rubrique}})]})]

[(#REM) Si on exclu l'article en cours ]
<BOUCLE_test_exclure_article_en_cours(CONDITION){si (#GET{exclure_article_en_cours}|oui)}>
	<BOUCLE_article_en_cours_exclu(ARTICLES) {id_article} {doublons articles_en_cours}>
	</BOUCLE_article_en_cours_exclu>
</BOUCLE_test_exclure_article_en_cours>

<BOUCLE_tri_nbre_commentaires(CONDITION){si (#GET{tri}|=={nbre_commentaires})}>
<B_liste_articles_tri_nbre_commentaires>
<div class="liste articles">
	#ANCRE_PAGINATION
	[(#GET{afficher_titre_liste}|oui)[<h2 class="h2">(#GET{titre}) [((#ENV{archives}|affdate_mois_annee|sinon{#ENV{archives}}))]</h2>]]
	
	[(#GET{position_selecteur_archives_debut}|oui)#INCLURE{fond=inclure/liste_articles-selecteur_archives,archives,pas_selecteur_archives,texte_devant_selecteur_archives,id_rubrique=#GET{id_rubrique},lang_choisie= #GET{langue_choisie},compteur_articles_selecteur_archives}]
	[(#GET{position_choix_tri_debut}|oui)#INCLURE{fond=inclure/liste_articles-choix_tri,env,tri=#GET{tri},senstri=#GET{senstri}}]
	[(#GET{position_pagination_debut}|oui)[<p class="pagination">(#PAGINATION{#GET{style_pagination}})</p>]]
	<ul class="liste-items">
	<BOUCLE_liste_articles_tri_nbre_commentaires(ARTICLES) {id_rubrique == #GET{id_rubrique}|sinon{.*}}{compteur_publie forum}{par compteur_forum}{inverse #GET{senstri}}{doublons articles_en_cours}{archives ?}{lang == #GET{langue_choisie}|sinon{.*}}{pagination #GET{pas_pagination}}>
	[(#GET{style_liste}|=={liste}|oui)
		#INCLURE{fond=inclure/article-liste,id_article=#ID_ARTICLE,id_article_expose=#ENV{id_article},env}
	]
	[(#GET{style_liste}|=={resume}|oui)
		#INCLURE{fond=inclure/article-resume,id_article=#ID_ARTICLE,id_article_expose=#ENV{id_article},env}
	]
	</BOUCLE_liste_articles_tri_nbre_commentaires>
	</ul>
	[(#GET{position_pagination_fin}|oui)[<p class="pagination">(#PAGINATION{#GET{style_pagination}})</p>]]
	[(#GET{position_choix_tri_fin}|oui)#INCLURE{fond=inclure/liste_articles-choix_tri,env,tri=#GET{tri},senstri=#GET{senstri}}]
	[(#GET{position_selecteur_archives_fin}|oui)#INCLURE{fond=inclure/liste_articles-selecteur_archives,archives,pas_selecteur_archives,texte_devant_selecteur_archives,id_rubrique=#GET{id_rubrique},lang_choisie= #GET{langue_choisie},compteur_articles_selecteur_archives}]
</div>
</B_liste_articles_tri_nbre_commentaires>
</BOUCLE_tri_nbre_commentaires>

<BOUCLE_tri_note(CONDITION){si (#GET{tri}|=={note}|et{#PLUGIN{notation}})}>
#INCLURE{fond=inclure/liste_articles_note,env,afficher_titre_liste=#GET{afficher_titre_liste},titre=#GET{titre},position_choix_tri_debut=#GET{position_choix_tri_debut},tri=#GET{tri},senstri=#GET{senstri},position_pagination_debut=#GET{position_pagination_debut},style_pagination=#GET{style_pagination},id_rubrique=#GET{id_rubrique},langue_choisie=#GET{langue_choisie},pas_pagination=#GET{pas_pagination},style_liste=#GET{style_liste},position_pagination_fin=#GET{position_pagination_fin},position_choix_tri_fin=#GET{position_choix_tri_fin}}
</BOUCLE_tri_note>

<B_liste_articles>
<div class="liste articles">
	#ANCRE_PAGINATION
	[(#GET{afficher_titre_liste}|oui)[<h2 class="h2">(#GET{titre}) [((#ENV{archives}|affdate_mois_annee|sinon{#ENV{archives}}))]</h2>]]
	
	[(#GET{position_selecteur_archives_debut}|oui)#INCLURE{fond=inclure/liste_articles-selecteur_archives,archives,pas_selecteur_archives,texte_devant_selecteur_archives,id_rubrique=#GET{id_rubrique},lang_choisie= #GET{langue_choisie},compteur_articles_selecteur_archives}]
	[(#GET{position_choix_tri_debut}|oui)#INCLURE{fond=inclure/liste_articles-choix_tri,env,tri=#GET{tri},senstri=#GET{senstri}}]
	[(#GET{position_pagination_debut}|oui)[<p class="pagination">(#PAGINATION{#GET{style_pagination}})</p>]]
	<ul class="liste-items">
	<BOUCLE_liste_articles(ARTICLES) {id_rubrique == #GET{id_rubrique}|sinon{.*}} {par num #GET{tri_num}}{inverse #GET{senstri}}{par #GET{tri}}{inverse #GET{senstri}}{doublons articles_en_cours}{archives ?}{lang == #GET{langue_choisie}|sinon{.*}}{pagination #GET{pas_pagination}}>
	[(#GET{style_liste}|=={liste}|oui)
		#INCLURE{fond=inclure/article-liste,id_article=#ID_ARTICLE,id_article_expose=#ENV{id_article},env}
	]
	[(#GET{style_liste}|=={resume}|oui)
		#INCLURE{fond=inclure/article-resume,id_article=#ID_ARTICLE,id_article_expose=#ENV{id_article},env}
	]
	</BOUCLE_liste_articles>
	</ul>
	[(#GET{position_pagination_fin}|oui)[<p class="pagination">(#PAGINATION{#GET{style_pagination}})</p>]]
	[(#GET{position_choix_tri_fin}|oui)#INCLURE{fond=inclure/liste_articles-choix_tri,env,tri=#GET{tri},senstri=#GET{senstri}}]
	[(#GET{position_selecteur_archives_fin}|oui)#INCLURE{fond=inclure/liste_articles-selecteur_archives,archives,pas_selecteur_archives,texte_devant_selecteur_archives,id_rubrique=#GET{id_rubrique},lang_choisie= #GET{langue_choisie},compteur_articles_selecteur_archives}]
</div>
</B_liste_articles>

<//B_tri_note>
<//B_tri_nbre_commentaires>
