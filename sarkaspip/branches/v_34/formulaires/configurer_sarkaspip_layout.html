<div class="formulaire_spip formulaire_configurer formulaire_#FORM">

	<h3 class="titrem"><:sarkaspip_config:cfg_boite_layout:></h3>

	[<p class="reponse_formulaire reponse_formulaire_ok">(#ENV*{message_ok})</p>]
	[<p class="reponse_formulaire reponse_formulaire_erreur">(#ENV*{message_erreur})</p>]
	<form method="post" action="#ENV{action}"><div>
		#ACTION_FORMULAIRE{#ENV{action}}
		<fieldset>
			<legend><:sarkaspip_config:cfg_lgd_layout:></legend>
			<p><img style="float:#LANG_RIGHT" id="bloc_layout_image" src="[(#CHEMIN{[prive/themes/spip/images/layout(#ENV{numero_layout, 13}).gif]})]" alt="Layout #ENV{numero_layout, 13}"/>
			<:sarkaspip_config:cfg_inf_layout:></p>
			<ul class="editer-groupe">
				#SET{name,numero_layout}#SET{defaut,13}#SET{obli,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
				<li class="editer editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
					<label><:sarkaspip_config:cfg_lgd_layout_fixe:></label>[
					<span class="erreur_message">(#GET{erreurs})</span>
					]
					<BOUCLE_lf(DATA){liste 7,8,9,10,11,12,34}>
						#SET{val,#VALEUR}
						<div class="choix">
							<input type="radio" name="#GET{name}" class="radio" id="#GET{name}_#GET{val}" value="#GET{val}"[(#ENV{#GET{name},#GET{defaut}}|=={#GET{val}}|oui)checked="checked"] />
							<label for="#GET{name}_#GET{val}">[(#VAL{sarkaspip_config:cfg_lbl_layout_}|concat{#VALEUR|str_pad{2,0,#EVAL{STR_PAD_LEFT}}}|_T)]</label>
						</div>
					</BOUCLE_lf>
				</li>
				<li class="fieldset suite" id="bloc_largeur"><fieldset>
					<ul class="editer-groupe">
						#SET{name,largeur_site}#SET{defaut,700}#SET{obli,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
						<li class="editer long_label editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
							<label for="#GET{name}"><:sarkaspip_config:cfg_lbl_largeur_site:> (<:sarkaspip_config:cfg_lbl_pixel:>)</label>[
							<span class="erreur_message">(#GET{erreurs})</span>
							]<input type="text" name="#GET{name}" class="text" value="#ENV*{#GET{name},#GET{defaut}}" id="#GET{name}" [(#HTML5|et{#GET{obli}})required='required']/>
						</li>
						#SET{name,appliquer_padding}#SET{defaut,0}#SET{obli,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
						<li class="editer long_label editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
							<label><:sarkaspip_config:cfg_lbl_appliquer_padding:></label>[
							<span class="erreur_message">(#GET{erreurs})</span>
							]
							#SET{val,1}
							<div class="choix">
								<input type="radio" name="#GET{name}" class="radio" id="#GET{name}_#GET{val}" value="#GET{val}"[(#ENV{#GET{name},#GET{defaut}}|=={#GET{val}}|oui)checked="checked"] />
								<label for="#GET{name}_#GET{val}"><:sarkaspip_config:cfg_lbl_oui:></label>
							</div>
							#SET{val,0}
							<div class="choix">
								<input type="radio" name="#GET{name}" class="radio" id="#GET{name}_#GET{val}" value="#GET{val}"[(#ENV{#GET{name},#GET{defaut}}|=={#GET{val}}|oui)checked="checked"] />
								<label for="#GET{name}_#GET{val}"><:sarkaspip_config:cfg_lbl_non:></label>
							</div>
						</li>
					</ul></fieldset>
				</li>
				<li class="fieldset suite" id="bloc_marge"><fieldset>
					<ul class="editer-groupe">
						#SET{name,largeur_padding}#SET{defaut,20}#SET{obli,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
						<li class="editer long_label editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
							<label for="#GET{name}"><:sarkaspip_config:cfg_lbl_largeur_padding:> (<:sarkaspip_config:cfg_lbl_pixel:>)</label>[
							<span class="erreur_message">(#GET{erreurs})</span>
							]<input type="text" name="#GET{name}" class="text" value="#ENV*{#GET{name},#GET{defaut}}" id="#GET{name}" [(#HTML5|et{#GET{obli}})required='required']/>
						</li>
					</ul></fieldset>
				</li>
				#SET{name,numero_layout}#SET{defaut,13}#SET{obli,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
				<li class="editer editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
					<label><:sarkaspip_config:cfg_lgd_layout_fluide:></label>[
					<span class="erreur_message">(#GET{erreurs})</span>
					]
					<BOUCLE_lfl(DATA){liste 13,14,15,16,17,18}>
						#SET{val,#VALEUR}
						<div class="choix">
							<input type="radio" name="#GET{name}" class="radio" id="#GET{name}_#GET{val}" value="#GET{val}"[(#ENV{#GET{name},#GET{defaut}}|=={#GET{val}}|oui)checked="checked"] />
							<label for="#GET{name}_#GET{val}">[(#VAL{sarkaspip_config:cfg_lbl_layout_}|concat{#VALEUR|str_pad{2,0,#EVAL{STR_PAD_LEFT}}}|_T)]</label>
						</div>
					</BOUCLE_lfl>
				</li>
			</ul>
		</fieldset>

		<INCLURE{fond=formulaires/inclure/cfg_boutons}>
	</div></form>
</div>

<script type="text/javascript">/*<![CDATA[*/
	jQuery(document).ready(function() {
		[(#ENV{appliquer_padding, 0}|!={1}|oui) jQuery("#bloc_marge").hide();]
		[(#ENV{numero_layout, 13}|match{^(13|14|15|16|17|18)$}|oui) jQuery("#bloc_largeur").hide();]

		jQuery("input[name='numero_layout']").click(function() {
			switch(jQuery("input[name='numero_layout']:checked").val()){
				case '7' :jQuery("#bloc_layout_image").attr({src: "[(#CHEMIN{prive/themes/spip/images/layout7.gif})]"});break;
				case '8' :jQuery("#bloc_layout_image").attr({src: "[(#CHEMIN{prive/themes/spip/images/layout8.gif})]"});break;
				case '9' :jQuery("#bloc_layout_image").attr({src: "[(#CHEMIN{prive/themes/spip/images/layout9.gif})]"});break;
				case '10' :jQuery("#bloc_layout_image").attr({src: "[(#CHEMIN{prive/themes/spip/images/layout10.gif})]"});break;
				case '11' :jQuery("#bloc_layout_image").attr({src: "[(#CHEMIN{prive/themes/spip/images/layout11.gif})]"});break;
				case '12' :jQuery("#bloc_layout_image").attr({src: "[(#CHEMIN{prive/themes/spip/images/layout12.gif})]"});break;
				case '13' :jQuery("#bloc_layout_image").attr({src: "[(#CHEMIN{prive/themes/spip/images/layout13.gif})]"});break;
				case '14' :jQuery("#bloc_layout_image").attr({src: "[(#CHEMIN{prive/themes/spip/images/layout14.gif})]"});break;
				case '15' :jQuery("#bloc_layout_image").attr({src: "[(#CHEMIN{prive/themes/spip/images/layout15.gif})]"});break;
				case '16' :jQuery("#bloc_layout_image").attr({src: "[(#CHEMIN{prive/themes/spip/images/layout16.gif})]"});break;
				case '17' :jQuery("#bloc_layout_image").attr({src: "[(#CHEMIN{prive/themes/spip/images/layout17.gif})]"});break;
				case '18' :jQuery("#bloc_layout_image").attr({src: "[(#CHEMIN{prive/themes/spip/images/layout18.gif})]"});break;
				case '34' :jQuery("#bloc_layout_image").attr({src: "[(#CHEMIN{prive/themes/spip/images/layout34.gif})]"});break;
				default : jQuery("#bloc_largeur").hide();break;
			}
			jQuery(this).blur();
		});

		jQuery("input[name='numero_layout']").change(function() {
			switch(jQuery("input[name='numero_layout']:checked").val()){
				case '7' :
				case '8' :
				case '9' :
				case '10' :
				case '11' :
				case '12' :
				case '34' :
					jQuery("#bloc_largeur").show('fast');
					if (jQuery("input[name='appliquer_padding']:checked").val() == 1) {
						jQuery("#bloc_marge").show('fast');
					}
					break;
				default : jQuery("#bloc_largeur,#bloc_marge").hide('fast');break;
			}
			jQuery(this).blur();
		});

		jQuery("input[name='appliquer_padding']").change(function() {
			if (jQuery("input[name='appliquer_padding']:checked").val() == 1) {
				jQuery("#bloc_marge").show('fast');
			}
			else {
				jQuery("#bloc_marge").hide('fast');
			}
			jQuery(this).blur();
		});
	});
/*]]>*/</script>
