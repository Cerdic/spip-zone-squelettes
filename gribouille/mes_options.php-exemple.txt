<?php

define('RUBRIQUES_WIKI', '201,202');

function autoriser_article_modifier($faire, $type, $id, $qui, $opt) {
	// Si on est deja autorise en standard, dire 'OK'
	if (autoriser_article_modifier_dist($faire, $type, $id, $qui, $opt))
		return true;

	// Sinon, verifier si l'article est dans une rubrique wiki (ici 201 et 202)
	$s = spip_query("SELECT id_rubrique FROM spip_articles WHERE id_article="._q($id));
	if ($t = spip_fetch_array($s)
	AND in_array($t['id_rubrique'], explode(',', RUBRIQUES_WIKI))
#	AND in_array($qui['statut'], array('0minirezo', '1comite'))
	)
		return true;

	// par defaut, NIET
	return false;
}

function autoriser_rubrique_publierdans($faire, $type, $id, $qui, $opt) {
	// Si on est deja autorise en standard, dire 'OK'
	if (autoriser_rubrique_publierdans_dist($faire, $type, $id, $qui, $opt))
		return true;

	// Sinon, verifier si la rubrique est wiki
	// et si on est bien redacteur
	if (in_array($id, explode(',', RUBRIQUES_WIKI))
	AND in_array($qui['statut'], array('0minirezo', '1comite'))
	)
		return true;

	// par defaut, NIET
	return false;
}

function analyse_droits_rapide() {
	return true;
}


?>